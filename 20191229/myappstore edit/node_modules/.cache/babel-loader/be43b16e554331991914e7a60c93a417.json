{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\uAE40\\uB355\\uD604\\\\Desktop\\\\20191227\\\\myappstore edit\\\\src\\\\component\\\\user\\\\EditStoreComponent.jsx\";\nimport React, { Component } from 'react';\nimport ApiService from \"../../service/ApiService\";\nimport result from '../../result.json';\nimport axios from 'axios';\n\nclass EditStoreComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => this.setState({\n      [e.target.name]: e.target.value\n    });\n\n    this.updateOwner = e => {\n      const store = {\n        ownerNo: this.state.ownerNo,\n        ownerID: this.state.ownerID,\n        password: this.state.password,\n        name: this.state.name,\n        brNo: this.state.brNo,\n        storeName: this.state.storeName,\n        address: this.state.address,\n        tel: this.state.tel,\n        cuisine: this.state.cuisine,\n        mainMenu: this.state.mainMenu,\n        menuImg: this.state.menuImg,\n        openingHours: this.state.openingHours\n      };\n      ApiService.editOwner(store).then(res => {\n        this.props.history.push('/ownerlogin');\n      });\n    };\n\n    this.saveFile = async () => {\n      let flag = true;\n      if (this.state.menuImg.length === 0) flag = false;\n\n      if (flag) {\n        let params = new FormData();\n        const file = this.state.menuImg; // 덕현오빠는 이곳에 이미지 외에 다른 정보를 JSON.stringfy?? 그거로 합친 데이터를 \n        // params.append() 로 넣어야 할듯!\n\n        let ownerNo = this.state.ownerNo;\n        file.forEach(f => {\n          params.append('file', f);\n        });\n        await axios({\n          method: 'post',\n          url: `users/uploadProfileImage/${ownerNo}`,\n          data: params // headers : {\n          // 'Content-Type': 'multipart/*'\n          // }\n\n        }).then(success => {\n          const data = success.data;\n          console.log(\"잘 업로드 되나 볼까..\" + data);\n        }).catch(error => console.log(\"에러...\" + error));\n        this.setState({\n          selectedImage: '',\n          error: '',\n          post: true,\n          showing: false\n        });\n      } else {\n        this.setState({\n          error: \"업로드 할 파일을 선택해주세요.\"\n        });\n      }\n    };\n\n    this.search = e => {\n      //페이지 리로딩 방지\n      e.preventDefault();\n      let input = document.getElementById(\"storeName\").value;\n      let loc1 = null;\n      let tel1 = null;\n      let foodstyle1 = null;\n      let mainMenu1 = null;\n      result.map(function (a) {\n        if (a.stname === input) {\n          return loc1 = a.address, tel1 = a.tel, foodstyle1 = a.style, mainMenu1 = a.main;\n        }\n      });\n      this.setState({\n        address: loc1,\n        tel: tel1,\n        cuisine: foodstyle1,\n        mainMenu: mainMenu1\n      });\n    };\n\n    this.state = {\n      ownerNo: '',\n      ownerID: '',\n      password: '',\n      name: '',\n      brNo: '',\n      storeName: '',\n      address: '',\n      tel: '',\n      cuisine: '',\n      mainMenu: '',\n      menuImg: '',\n      openingHours: ''\n    };\n    this.updateOwner = this.updateOwner.bind(this);\n    this.loadOwner = this.loadOwner.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadOwner();\n  }\n\n  loadOwner() {\n    ApiService.fetchOwnerById(window.localStorage.getItem(\"ownerNo\")).then(res => {\n      let owner = res.data;\n      this.setState({\n        ownerNo: owner.ownerNo,\n        ownerID: owner.ownerID,\n        password: owner.password,\n        name: owner.name,\n        brNo: owner.brNo,\n        storeName: owner.storeName,\n        address: owner.address,\n        tel: owner.tel,\n        cuisine: owner.cuisine,\n        mainMenu: owner.mainMenu,\n        menuImg: owner.MenuImg,\n        openingHours: owner.openingHours\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"\\uC74C \\uC2DD \\uC810 \\uB4F1 \\uB85D\"), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"\\uC74C\\uC2DD\\uC810 \\uBC88\\uD638\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"\\uC74C\\uC2DD\\uC810 \\uBC88\\uD638\",\n      name: \"ownerNo\",\n      className: \"form-control\",\n      value: this.state.ownerNo,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"\\uC544\\uC774\\uB514\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"\\uC544\\uC774\\uB514\",\n      name: \"ownerID\",\n      className: \"form-control\",\n      value: this.state.ownerID,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"\\uBE44\\uBC00\\uBC88\\uD638\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n      name: \"password\",\n      className: \"form-control\",\n      value: this.state.password,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"\\uC8FC\\uC778\\uC774\\uB984\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"\\uC8FC\\uC778\\uC774\\uB984\",\n      name: \"name\",\n      className: \"form-control\",\n      value: this.state.name,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \"\\uC0AC\\uC5C5\\uC790 \\uB4F1\\uB85D\\uBC88\\uD638\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"\\uC0AC\\uC5C5\\uC790 \\uB4F1\\uB85D\\uBC88\\uD638\",\n      name: \"brNo\",\n      className: \"form-control\",\n      value: this.state.brNo,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    })), React.createElement(\"form\", {\n      onSubmit: this.search,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \"\\uC74C\\uC2DD\\uC810\\uC774\\uB984\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"\\uC74C\\uC2DD\\uC810 \\uC774\\uB984\",\n      id: \"storeName\",\n      name: \"storeName\",\n      className: \"form-control\",\n      value: this.state.storeName,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"\\uD655\\uC778\"))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"\\uC8FC\\uC18C\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"\\uC8FC\\uC18C\",\n      name: \"address\",\n      className: \"form-control\",\n      value: this.state.address,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, \"\\uC804\\uD654\\uBC88\\uD638\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"\\uC804\\uD654\\uBC88\\uD638\",\n      name: \"tel\",\n      className: \"form-control\",\n      value: this.state.tel,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, \" \\uC0AC\\uC9C4 \\uCD5C\\uB300 5\\uC7A5 \"), React.createElement(\"input\", {\n      type: \"file\",\n      placeholder: \"\\uC774\\uBBF8\\uC9C0\",\n      id: \"menuImg\",\n      name: \"menuImg\",\n      className: \"form-control\",\n      value: this.state.menuImg,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"\\uC74C\\uC2DD \\uC2A4\\uD0C0\\uC77C\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"\\uC74C\\uC2DD \\uC2A4\\uD0C0\\uC77C ex)\\uD55C\\uC2DD, \\uC591\\uC2DD, \\uC911\\uC2DD, \\uC77C\\uC2DD, \\uB3D9\\uB0A8\\uC544\\uC2DD, \\uBDD4\\uD398\\uC2DD \",\n      name: \"cuisine\",\n      className: \"form-control\",\n      value: this.state.cuisine,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, \"\\uC8FC\\uB41C \\uC74C\\uC2DD\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \" \\uC8FC\\uBA54\\uB274 ex)\\uAE40\\uCE58\\uCC0C\\uAC1C, \\uB41C\\uC7A5\\uCC0C\\uAC1C\",\n      name: \"mainMenu\",\n      className: \"form-control\",\n      value: this.state.mainMenu,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"\\uC6B4\\uC601\\uC2DC\\uAC04\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"\\uC74C\\uC2DD\\uC810 \\uC6B4\\uC601\\uC2DC\\uAC04 ex) 10~22\",\n      name: \"openingHours\",\n      className: \"form-control\",\n      value: this.state.openingHours,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"btn btn-success\",\n      onClick: this.updateOwner,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, \"Save\"));\n  }\n\n}\n\nexport default EditStoreComponent;","map":{"version":3,"sources":["C:/Users/김덕현/Desktop/20191227/myappstore edit/src/component/user/EditStoreComponent.jsx"],"names":["React","Component","ApiService","result","axios","EditStoreComponent","constructor","props","onChange","e","setState","target","name","value","updateOwner","store","ownerNo","state","ownerID","password","brNo","storeName","address","tel","cuisine","mainMenu","menuImg","openingHours","editOwner","then","res","history","push","saveFile","flag","length","params","FormData","file","forEach","f","append","method","url","data","success","console","log","catch","error","selectedImage","post","showing","search","preventDefault","input","document","getElementById","loc1","tel1","foodstyle1","mainMenu1","map","a","stname","style","main","bind","loadOwner","componentDidMount","fetchOwnerById","window","localStorage","getItem","owner","MenuImg","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport ApiService from \"../../service/ApiService\";\r\nimport result from '../../result.json';\r\nimport axios from 'axios'\r\n\r\n\r\nclass EditStoreComponent extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n\r\n      ownerNo: '',\r\n      ownerID: '',\r\n      password: '',\r\n      name: '',\r\n      brNo: '',\r\n\r\n      storeName: '',\r\n      address: '',\r\n      tel: '',\r\n      cuisine: '',\r\n      mainMenu: '',\r\n      menuImg: '',\r\n      openingHours: '',\r\n\r\n    }\r\n    this.updateOwner = this.updateOwner.bind(this);\r\n    this.loadOwner = this.loadOwner.bind(this);\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadOwner();\r\n  }\r\n\r\n  loadOwner() {\r\n\r\n    ApiService.fetchOwnerById(window.localStorage.getItem(\"ownerNo\"))\r\n      .then((res) => {\r\n        let owner = res.data;\r\n        this.setState({\r\n          ownerNo: owner.ownerNo,\r\n          ownerID: owner.ownerID,\r\n          password: owner.password,\r\n          name: owner.name,\r\n          brNo: owner.brNo,\r\n          storeName: owner.storeName,\r\n          address: owner.address,\r\n          tel: owner.tel,\r\n          cuisine: owner.cuisine,\r\n          mainMenu: owner.mainMenu,\r\n          menuImg: owner.MenuImg,\r\n          openingHours: owner.openingHours\r\n        })\r\n      });\r\n  }\r\n\r\n  onChange = (e) =>\r\n  this.setState({ [e.target.name]: e.target.value });\r\n\r\n  updateOwner = (e) => {\r\n    const store = {\r\n      ownerNo: this.state.ownerNo,\r\n      ownerID: this.state.ownerID,\r\n      password: this.state.password,\r\n      name: this.state.name,\r\n      brNo: this.state.brNo,\r\n      storeName: this.state.storeName,\r\n      address: this.state.address,\r\n      tel: this.state.tel,\r\n      cuisine: this.state.cuisine,\r\n      mainMenu: this.state.mainMenu,\r\n      menuImg: this.state.menuImg,\r\n      openingHours: this.state.openingHours,\r\n    };\r\n\r\n    ApiService.editOwner(store)\r\n      .then(res => {\r\n        this.props.history.push('/ownerlogin');\r\n      });\r\n  }\r\n\r\n  saveFile = async () => {\r\n    let flag = true;\r\n  \r\n    if(this.state.menuImg.length===0) flag = false;\r\n  \r\n    if(flag) {\r\n      let params = new FormData();\r\n      const file = this.state.menuImg;\r\n  \r\n      // 덕현오빠는 이곳에 이미지 외에 다른 정보를 JSON.stringfy?? 그거로 합친 데이터를 \r\n      // params.append() 로 넣어야 할듯!\r\n  \r\n      let ownerNo = this.state.ownerNo;\r\n  \r\n      file.forEach((f) => {\r\n        params.append('file',f);\r\n      })\r\n  \r\n      await axios({\r\n        method:'post',\r\n        url: `users/uploadProfileImage/${ownerNo}`,\r\n        data: params,\r\n        // headers : {\r\n        // 'Content-Type': 'multipart/*'\r\n        // }\r\n      }).then (success => {\r\n        const data = success.data;\r\n        console.log(\"잘 업로드 되나 볼까..\" + data);\r\n      }).catch (\r\n        error => console.log(\"에러...\" +error)\r\n      );\r\n      this.setState ({\r\n        selectedImage: '',\r\n        error: '',\r\n        post: true,\r\n        showing: false\r\n      });\r\n    } else {\r\n      this.setState({\r\n        error: \"업로드 할 파일을 선택해주세요.\"\r\n      });\r\n    }\r\n  }\r\n  \r\n\r\n\r\n\r\n\r\n  search = (e) => {\r\n    //페이지 리로딩 방지\r\n    e.preventDefault();\r\n\r\n    let input = document.getElementById(\"storeName\").value;\r\n\r\n    let loc1 = null;\r\n    let tel1 = null;\r\n    let foodstyle1 = null;\r\n    let mainMenu1 = null;\r\n\r\n    result.map(function (a) {\r\n      if (a.stname === input) {\r\n        return loc1 = a.address, tel1 = a.tel, foodstyle1 = a.style, mainMenu1 = a.main\r\n      }\r\n    });\r\n    this.setState({\r\n      address: loc1,\r\n      tel: tel1,\r\n      cuisine: foodstyle1,\r\n      mainMenu: mainMenu1\r\n    });\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n\r\n    return (\r\n\r\n      <div>\r\n\r\n        <h2 className=\"text-center\">음 식 점 등 록</h2>\r\n\r\n\r\n        <div className=\"form-group\">\r\n\r\n          <div className=\"form-group\">\r\n            <label>음식점 번호</label>\r\n            <input type=\"text\" placeholder=\"음식점 번호\" name=\"ownerNo\" className=\"form-control\" value={this.state.ownerNo} onChange={this.onChange} />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>아이디</label>\r\n            <input type=\"text\" placeholder=\"아이디\" name=\"ownerID\" className=\"form-control\" value={this.state.ownerID} onChange={this.onChange} />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>비밀번호</label>\r\n            <input type=\"text\" placeholder=\"비밀번호\" name=\"password\" className=\"form-control\" value={this.state.password} onChange={this.onChange} />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>주인이름</label>\r\n            <input type=\"text\" placeholder=\"주인이름\" name=\"name\" className=\"form-control\" value={this.state.name} onChange={this.onChange} />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>사업자 등록번호</label>\r\n            <input type=\"text\" placeholder=\"사업자 등록번호\" name=\"brNo\" className=\"form-control\" value={this.state.brNo} onChange={this.onChange} />\r\n          </div>\r\n\r\n\r\n          <form onSubmit={this.search}>\r\n            <label>음식점이름</label>\r\n            <input type=\"text\" placeholder=\"음식점 이름\" id=\"storeName\" name=\"storeName\" className=\"form-control\" value={this.state.storeName} onChange={this.onChange} />\r\n            <button type=\"submit\">확인</button>\r\n          </form>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>주소</label>\r\n          <input type=\"text\" placeholder=\"주소\" name=\"address\" className=\"form-control\" value={this.state.address} onChange={this.onChange} />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>전화번호</label>\r\n          <input type=\"text\" placeholder=\"전화번호\" name=\"tel\" className=\"form-control\" value={this.state.tel} onChange={this.onChange} />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label> 사진 최대 5장 </label>\r\n          <input type=\"file\" placeholder=\"이미지\" id=\"menuImg\" name=\"menuImg\" className=\"form-control\" value={this.state.menuImg} onChange={this.onChange} />\r\n          {/* <button onClick={this.uploadfile}>저장</button> */}\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>음식 스타일</label>\r\n          <input type=\"text\" placeholder=\"음식 스타일 ex)한식, 양식, 중식, 일식, 동남아식, 뷔페식 \" name=\"cuisine\" className=\"form-control\" value={this.state.cuisine} onChange={this.onChange} />\r\n        </div>\r\n\r\n\r\n        <div className=\"form-group\">\r\n          <label>주된 음식</label>\r\n          <input type=\"text\" placeholder=\" 주메뉴 ex)김치찌개, 된장찌개\" name=\"mainMenu\" className=\"form-control\" value={this.state.mainMenu} onChange={this.onChange} />\r\n        </div>\r\n\r\n\r\n        <div className=\"form-group\">\r\n          <label>운영시간</label>\r\n          <input type=\"text\" placeholder=\"음식점 운영시간 ex) 10~22\" name=\"openingHours\" className=\"form-control\" value={this.state.openingHours} onChange={this.onChange} />\r\n        </div>\r\n\r\n        <button className=\"btn btn-success\" onClick={this.updateOwner}>Save</button>\r\n\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditStoreComponent;"]},"metadata":{},"sourceType":"module"}