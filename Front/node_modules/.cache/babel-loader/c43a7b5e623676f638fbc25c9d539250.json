{"ast":null,"code":"var _jsxFileName = \"/home/chloe/Workspace/React-SpringBoot/Workspace/React/test-react2/src/component/mypage/ProfilePhotoUpload.jsx\";\nimport React from \"react\";\nimport DropzoneComponent from \"react-dropzone-component\";\nimport \"react-dropzone-component/styles/filepicker.css\";\nimport \"dropzone/dist/min/dropzone.min.css\";\nimport './ProfilePhotoUpload.scss';\n\nclass ProfilePhotoUpload extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onAdd = file => {\n      this.props.onAdd(file, this.props.stateKey);\n    };\n\n    const maxFile = this.props.maxFile;\n\n    var ReactDOMServer = require(\"react-dom/server\");\n\n    this.djsConfig = {\n      dictDefaultMessage: `Click here & Select or Drag file! ${maxFile ? '(업로드 가능 파일 수: ' + maxFile + ')' : ''}`,\n      acceptedFiles: \"image/jpg, image/jpeg, image/png, image/gif\",\n      autoProcessQueue: false,\n      maxFiles: maxFile,\n      previewTemplate: ReactDOMServer.renderToStaticMarkup(React.createElement(\"div\", {\n        className: \"dz-preview dz-file-preview\",\n        style: {\n          display: \"inline-block\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"dz-details\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"dz-filename\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        \"data-dz-name\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22\n        },\n        __self: this\n      })), React.createElement(\"img\", {\n        \"data-dz-thumbnail\": \"true\",\n        alt: \"default-thumbnail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"dz-remove\",\n        \"data-dz-remove\": true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }, \"\\xD7\")), React.createElement(\"div\", {\n        className: \"dz-progress\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"dz-upload\",\n        \"data-dz-uploadprogress\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }))))\n    };\n    this.componentConfig = {\n      //Upload 가능한 File Icon들 보여주기 \n      iconFiletypes: [\".jpg\", \".jpeg\", \".png\", \".gif\"],\n      showFiletypeIcon: true,\n      postUrl: \"none\" // -> set the URL to which uploads should be posted\n\n    };\n    this.dropzone = null;\n  }\n\n  shouldComponentUpdate(nextProps, prevState) {\n    if (this.props.post === false && nextProps.post === true) {\n      this.dropzone.removeAllFiles();\n      return true;\n    }\n\n    return false;\n  }\n\n  // onRemove = (file) => {\n  //   this.props.onRemove(file, this.props.stateKey);\n  // };\n  render() {\n    const name = this.props.name;\n    const config = this.componentConfig;\n    const djsConfig = this.djsConfig;\n    const eventHandlers = {\n      init: dz => {\n        this.dropzone = dz;\n        this.dropzone.on(\"maxfilesexceeded\", function (file) {\n          this.removeAllFiles();\n          this.addFile(file);\n        });\n      },\n      addedfile: this.onAdd,\n      removedfile: this.onRemove\n    };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"intro\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, name), React.createElement(DropzoneComponent, {\n      config: config,\n      eventHandlers: eventHandlers,\n      djsConfig: djsConfig,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default ProfilePhotoUpload;","map":{"version":3,"sources":["/home/chloe/Workspace/React-SpringBoot/Workspace/React/test-react2/src/component/mypage/ProfilePhotoUpload.jsx"],"names":["React","DropzoneComponent","ProfilePhotoUpload","Component","constructor","props","onAdd","file","stateKey","maxFile","ReactDOMServer","require","djsConfig","dictDefaultMessage","acceptedFiles","autoProcessQueue","maxFiles","previewTemplate","renderToStaticMarkup","display","componentConfig","iconFiletypes","showFiletypeIcon","postUrl","dropzone","shouldComponentUpdate","nextProps","prevState","post","removeAllFiles","render","name","config","eventHandlers","init","dz","on","addFile","addedfile","removedfile","onRemove"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,iBAAP,MAA8B,0BAA9B;AACA,OAAO,gDAAP;AACA,OAAO,oCAAP;AACA,OAAO,2BAAP;;AAEA,MAAMC,kBAAN,SAAiCF,KAAK,CAACG,SAAvC,CAAiD;AAC/CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SA4CnBC,KA5CmB,GA4CVC,IAAD,IAAU;AAChB,WAAKF,KAAL,CAAWC,KAAX,CAAiBC,IAAjB,EAAuB,KAAKF,KAAL,CAAWG,QAAlC;AACD,KA9CkB;;AAAA,UAETC,OAFS,GAEG,KAAKJ,KAFR,CAETI,OAFS;;AAGjB,QAAIC,cAAc,GAAGC,OAAO,CAAC,kBAAD,CAA5B;;AAEA,SAAKC,SAAL,GAAiB;AACfC,MAAAA,kBAAkB,EAAG,qCAAoCJ,OAAO,GAAC,mBAAmBA,OAAnB,GAA6B,GAA9B,GAAoC,EAAG,EADxF;AAEfK,MAAAA,aAAa,EAAE,6CAFA;AAGfC,MAAAA,gBAAgB,EAAE,KAHH;AAIfC,MAAAA,QAAQ,EAAEP,OAJK;AAKfQ,MAAAA,eAAe,EAAEP,cAAc,CAACQ,oBAAf,CACf;AAAK,QAAA,SAAS,EAAC,4BAAf;AAA4C,QAAA,KAAK,EAAE;AAACC,UAAAA,OAAO,EAAE;AAAV,SAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,wBAAa,MAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAIE;AAAK,6BAAkB,MAAvB;AAA8B,QAAA,GAAG,EAAC,mBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,EAKE;AAAM,QAAA,SAAS,EAAC,WAAhB;AAA4B,8BAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,CADF,EAQE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,SAAS,EAAC,WAAhB;AAA4B,kCAAuB,MAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CARF,CADe;AALF,KAAjB;AAoBA,SAAKC,eAAL,GAAuB;AACrB;AACAC,MAAAA,aAAa,EAAE,CAAC,MAAD,EAAS,OAAT,EAAkB,MAAlB,EAA0B,MAA1B,CAFM;AAGrBC,MAAAA,gBAAgB,EAAE,IAHG;AAIrBC,MAAAA,OAAO,EAAE,MAJY,CAKrB;;AALqB,KAAvB;AASA,SAAKC,QAAL,GAAgB,IAAhB;AACD;;AACDC,EAAAA,qBAAqB,CAACC,SAAD,EAAYC,SAAZ,EAAuB;AAC1C,QAAI,KAAKtB,KAAL,CAAWuB,IAAX,KAAoB,KAApB,IAA6BF,SAAS,CAACE,IAAV,KAAmB,IAApD,EAA0D;AACxD,WAAKJ,QAAL,CAAcK,cAAd;AACA,aAAO,IAAP;AACD;;AACD,WAAO,KAAP;AACD;;AAMD;AACA;AACA;AAEAC,EAAAA,MAAM,GAAG;AAAA,UACCC,IADD,GACU,KAAK1B,KADf,CACC0B,IADD;AAEP,UAAMC,MAAM,GAAG,KAAKZ,eAApB;AACA,UAAMR,SAAS,GAAG,KAAKA,SAAvB;AACA,UAAMqB,aAAa,GAAG;AACpBC,MAAAA,IAAI,EAAGC,EAAD,IAAQ;AACZ,aAAKX,QAAL,GAAgBW,EAAhB;AACA,aAAKX,QAAL,CAAcY,EAAd,CAAiB,kBAAjB,EAAqC,UAAS7B,IAAT,EAAe;AAClD,eAAKsB,cAAL;AACA,eAAKQ,OAAL,CAAa9B,IAAb;AACD,SAHD;AAID,OAPmB;AAQpB+B,MAAAA,SAAS,EAAE,KAAKhC,KARI;AASpBiC,MAAAA,WAAW,EAAE,KAAKC;AATE,KAAtB;AAYA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAsBT,IAAtB,CADF,EAEE,oBAAC,iBAAD;AACE,MAAA,MAAM,EAAEC,MADV;AAEE,MAAA,aAAa,EAAEC,aAFjB;AAGE,MAAA,SAAS,EAAErB,SAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF;AAUD;;AA/E8C;;AAkFjD,eAAeV,kBAAf","sourcesContent":["import React from \"react\";\nimport DropzoneComponent from \"react-dropzone-component\";\nimport \"react-dropzone-component/styles/filepicker.css\";\nimport \"dropzone/dist/min/dropzone.min.css\";\nimport './ProfilePhotoUpload.scss'\n\nclass ProfilePhotoUpload extends React.Component {\n  constructor(props) {\n    super(props);\n    const { maxFile } = this.props;\n    var ReactDOMServer = require(\"react-dom/server\");\n\n    this.djsConfig = {\n      dictDefaultMessage: `Click here & Select or Drag file! ${maxFile?'(업로드 가능 파일 수: ' + maxFile + ')' : ''}`,\n      acceptedFiles: \"image/jpg, image/jpeg, image/png, image/gif\",\n      autoProcessQueue: false,\n      maxFiles: maxFile,\n      previewTemplate: ReactDOMServer.renderToStaticMarkup(\n        <div className=\"dz-preview dz-file-preview\" style={{display: \"inline-block\"}}>\n          <div className=\"dz-details\">\n            <div className=\"dz-filename\">\n              <span data-dz-name=\"true\"></span>\n            </div>\n            <img data-dz-thumbnail=\"true\" alt=\"default-thumbnail\" />\n            <span className=\"dz-remove\" data-dz-remove>&times;</span>\n          </div>\n          <div className=\"dz-progress\">\n            <span className=\"dz-upload\" data-dz-uploadprogress=\"true\"></span>\n          </div>\n        </div>\n      )\n    };\n    this.componentConfig = {\n      //Upload 가능한 File Icon들 보여주기 \n      iconFiletypes: [\".jpg\", \".jpeg\", \".png\", \".gif\"],\n      showFiletypeIcon: true,\n      postUrl: \"none\"\n      // -> set the URL to which uploads should be posted\n\n    };\n\n    this.dropzone = null;\n  }\n  shouldComponentUpdate(nextProps, prevState) {\n    if (this.props.post === false && nextProps.post === true) {\n      this.dropzone.removeAllFiles();\n      return true;\n    }\n    return false;\n  }\n\n  onAdd = (file) => {\n    this.props.onAdd(file, this.props.stateKey);\n  };\n\n  // onRemove = (file) => {\n  //   this.props.onRemove(file, this.props.stateKey);\n  // };\n\n  render() {\n    const { name } = this.props;\n    const config = this.componentConfig;\n    const djsConfig = this.djsConfig;\n    const eventHandlers = {\n      init: (dz) => {\n        this.dropzone = dz;\n        this.dropzone.on(\"maxfilesexceeded\", function(file) {\n          this.removeAllFiles();\n          this.addFile(file);\n        });\n      },\n      addedfile: this.onAdd,\n      removedfile: this.onRemove\n    };\n\n    return (\n      <div >\n        <p className=\"intro\">{name}</p>\n        <DropzoneComponent\n          config={config}\n          eventHandlers={eventHandlers}\n          djsConfig={djsConfig}\n        />\n      </div>\n    );\n  }\n}\n\nexport default ProfilePhotoUpload;\n"]},"metadata":{},"sourceType":"module"}